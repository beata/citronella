<?php
error_reporting(E_ALL|E_STRICT);

$config = array(
    'timezone' => 'Asia/Taipei',
    'encoding' => 'UTF-8',
    'language' => 'zh',
    'language_code' => 'zh-tw',
    'locale' => 'zh_TW.UTF-8',
    'enable_rewrite' => false,
    'system_email' => 'noreply@localhost', // 系統的發信地址
    'site_name' => 'Site Name',

    // 設定資料庫
    'db' => array(
        'host' => 'localhost',
        'name' => 'test',
        'charset' => 'utf8',
        'user' => 'dev',
        'password' => 'dev'
    ),

    // 分頁設定
    'pagination' => array(
        'rows_per_page'     => 20,      // 每頁顯示20筆資料
        'num_per_page'      => 10,      // 每次顯示10個頁碼
    ),
);

define('ROOT_PATH', __DIR__ . DIRECTORY_SEPARATOR);
define('SYS_PATH', ROOT_PATH . 'sys' . DIRECTORY_SEPARATOR);

if ( ! defined('ROOT_URL')) {
    define('ROOT_URL', rtrim(dirname($_SERVER['PHP_SELF']), '/') . '/');
}
if ( ! defined('ASSETS_URL')) {
    define('ASSETS_URL', ROOT_URL . 'assets/');
    define('ASSETS_PATH', ROOT_PATH . 'assets/');
}


// 設定日期時間函式使用台北時區
date_default_timezone_set($config['timezone']);

// 設定預設編碼
setlocale(LC_ALL, $config['locale']);

define('TRIM_MARKER', '&#8230;');
if ( function_exists('mb_internal_encoding')) {
    mb_internal_encoding($config['encoding']);
}


// REQUEST_URI in IIS
if ( ! isset($_SERVER['REQUEST_URI']) ) {
    $_SERVER['REQUEST_URI'] = substr($_SERVER['PHP_SELF'],1 );
    if ( isset($_SERVER['QUERY_STRING'])) {
        $_SERVER['REQUEST_URI'].='?'.$_SERVER['QUERY_STRING'];
    }
}

// php5 - stripslashes_gpc
if ( get_magic_quotes_gpc()) {
    function stripslashes_gpc(&$value)
    {
        $value = stripslashes($value);
    }
    array_walk_recursive($_GET, 'stripslashes_gpc');
    array_walk_recursive($_POST, 'stripslashes_gpc');
    array_walk_recursive($_COOKIE, 'stripslashes_gpc');
    array_walk_recursive($_REQUEST, 'stripslashes_gpc');
}
